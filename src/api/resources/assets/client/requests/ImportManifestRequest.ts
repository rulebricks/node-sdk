// This file was auto-generated by Fern from our API Definition.

/**
 * @example
 *     {
 *         manifest: {
 *             version: "1.0",
 *             rules: [{
 *                     "name": "Pricing Rule",
 *                     "slug": "pricing-rule"
 *                 }],
 *             flows: [{
 *                     "name": "Onboarding Flow",
 *                     "slug": "onboarding-flow"
 *                 }],
 *             entities: [{
 *                     "name": "Customer",
 *                     "slug": "customer"
 *                 }],
 *             values: [{
 *                     "name": "tax_rate",
 *                     "value": 0.08
 *                 }]
 *         },
 *         conflict_strategy: "update"
 *     }
 */
export interface ImportManifestRequest {
    /** The RBM manifest object containing assets to import. */
    manifest: ImportManifestRequest.Manifest;
    /** How to handle conflicts with existing assets. 'update' overwrites, 'skip' ignores, 'error' fails. */
    conflict_strategy?: ImportManifestRequest.ConflictStrategy;
    /** Optional folder name to place imported assets into. Created if it doesn't exist. */
    target_folder_name?: string;
    /** Optional mapping for legacy flow imports to reuse existing rules. */
    legacy_rule_mapping?: Record<string, ImportManifestRequest.LegacyRuleMapping.Value>;
}

export namespace ImportManifestRequest {
    /**
     * The RBM manifest object containing assets to import.
     */
    export interface Manifest {
        /** Manifest format version. */
        version?: string;
        /** Rules to import. */
        rules?: Record<string, unknown>[];
        /** Flows to import. */
        flows?: Record<string, unknown>[];
        /** Contexts to import. */
        entities?: Record<string, unknown>[];
        /** Dynamic values to import. */
        values?: Record<string, unknown>[];
    }

    /** How to handle conflicts with existing assets. 'update' overwrites, 'skip' ignores, 'error' fails. */
    export const ConflictStrategy = {
        Update: "update",
        Skip: "skip",
        Error: "error",
    } as const;
    export type ConflictStrategy = (typeof ConflictStrategy)[keyof typeof ConflictStrategy];

    export namespace LegacyRuleMapping {
        export interface Value {
            action?: Value.Action;
            rule_id?: string;
        }

        export namespace Value {
            export const Action = {
                Reuse: "reuse",
                Create: "create",
            } as const;
            export type Action = (typeof Action)[keyof typeof Action];
        }
    }
}
